(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{684:function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s})),n.d(t,"d",(function(){return c}));var r=n(0),o=n.n(r),a={label:o.a.string,description:o.a.string,field:o.a.string,group:o.a.string},i=Object.assign({},a,{option:o.a.string,menu:o.a.string}),s={label:o.a.string},c={label:o.a.string}},685:function(e,t,n){"use strict";var r=n(1),o=n.n(r),a=n(332),i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var s=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"render",value:function(){var e=this.props.validationState,t=e&&"info"!==e?e:null;return o.a.createElement(a.j,{className:"input-group "+this.props.className,controlId:this.props.controlId,validationState:t},this.props.children)}}]),t}(r.Component);s.defaultProps={className:""},t.a=s},686:function(e,t,n){"use strict";var r=n(1),o=n.n(r),a=n(332),i=n(22),s=n(8),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var l=s.h.FIELD_DESC_NEW_PASSWORD,u=s.h.FIELD_DESC_PASSWORD_LAST_EIGHT,p=s.h.FIELD_DESC_PASSWORD_WAIT_ONE_HOUR,f=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),c(t,[{key:"renderStaticList",value:function(e){var t=[u,p];return o.a.createElement(a.q,{className:"input-description-list"},e,o.a.createElement("div",{style:{marginBottom:"10px"}}),t.map((function(e){return o.a.createElement(a.q,{key:e},o.a.createElement(a.d,{style:{color:"#4D4C4C"}},e))})))}},{key:"renderList",value:function(){var e=this.props.list;if(!e)return null;if(e.length>0){var t=e.map((function(e,t){return o.a.createElement(a.q,{key:t},o.a.createElement("span",{style:{color:"success"===e.alert?"#00853C":"#E2241A"},className:"success"===e.alert?e.alert+" icon-check":e.alert}),o.a.createElement("span",{style:{color:"success"===e.alert?"#00853C":"#E2241A"},className:e.alert},e.description))}));return this.renderStaticList(t)}return o.a.createElement(a.q,{className:"input-description-list"},e.map((function(e,t){return o.a.createElement(a.q,{key:t},o.a.createElement(a.d,{className:e.alert},e.description))})))}},{key:"render",value:function(){var e=this.props,t=e.description,n=e.alert,r=e.className,s=void 0===r?"":r,c=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["description","alert","className"]);return t&&n!==i.b?o.a.createElement(a.k,Object.assign({},c,{className:"input-description "+s+" "+n,style:{color:t===l?"#4d4c4c":"#E2241A"}}),t,this.renderList()):null}}]),t}(r.Component);t.a=f},687:function(e,t,n){"use strict";var r=n(1),o=n.n(r),a=n(332),i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var s=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"render",value:function(){var e=this.props,t=e.label,n=e.className,r=void 0===n?"":n,i=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["label","className"]);return t?o.a.createElement(a.e,Object.assign({},i,{className:"input-label "+r}),t):null}}]),t}(r.Component);t.a=s},692:function(e,t,n){"use strict";var r=n(1),o=n.n(r),a=n(0),i=n.n(a),s=n(332),c=n(8),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var u=c.b.BUTTON_LABEL_CANCEL,p=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),l(t,[{key:"render",value:function(){var e=this.props,t=e.label,n=e.cssFor,r=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["label","cssFor"]);return o.a.createElement(s.b,Object.assign({},r,{className:"btn--primary-ghost input-submit "+(n&&n.className),type:"button",onClick:this.handleOnClick.bind(this)}),t)}},{key:"handleOnClick",value:function(e){e.preventDefault(),this.props.onClick&&this.props.onClick.constructor===Function&&this.props.onClick()}}]),t}(r.Component);p.propTypes={label:i.a.string},p.defaultProps={label:u},t.a=p},693:function(e,t,n){"use strict";var r=n(706),o=n(207);function a(e,t){return t.encode?t.strict?r(e):encodeURIComponent(e):e}t.extract=function(e){return e.split("?")[1]||""},t.parse=function(e,t){var n=function(e){var t;switch(e.arrayFormat){case"index":return function(e,n,r){t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===r[e]&&(r[e]={}),r[e][t[1]]=n):r[e]=n};case"bracket":return function(e,n,r){t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==r[e]?r[e]=[].concat(r[e],n):r[e]=[n]:r[e]=n};default:return function(e,t,n){void 0!==n[e]?n[e]=[].concat(n[e],t):n[e]=t}}}(t=o({arrayFormat:"none"},t)),r=Object.create(null);return"string"!=typeof e?r:(e=e.trim().replace(/^(\?|#|&)/,""))?(e.split("&").forEach((function(e){var t=e.replace(/\+/g," ").split("="),o=t.shift(),a=t.length>0?t.join("="):void 0;a=void 0===a?null:decodeURIComponent(a),n(decodeURIComponent(o),a,r)})),Object.keys(r).sort().reduce((function(e,t){var n=r[t];return Boolean(n)&&"object"==typeof n&&!Array.isArray(n)?e[t]=function e(t){return Array.isArray(t)?t.sort():"object"==typeof t?e(Object.keys(t)).sort((function(e,t){return Number(e)-Number(t)})).map((function(e){return t[e]})):t}(n):e[t]=n,e}),Object.create(null))):r},t.stringify=function(e,t){var n=function(e){switch(e.arrayFormat){case"index":return function(t,n,r){return null===n?[a(t,e),"[",r,"]"].join(""):[a(t,e),"[",a(r,e),"]=",a(n,e)].join("")};case"bracket":return function(t,n){return null===n?a(t,e):[a(t,e),"[]=",a(n,e)].join("")};default:return function(t,n){return null===n?a(t,e):[a(t,e),"=",a(n,e)].join("")}}}(t=o({encode:!0,strict:!0,arrayFormat:"none"},t));return e?Object.keys(e).sort().map((function(r){var o=e[r];if(void 0===o)return"";if(null===o)return a(r,t);if(Array.isArray(o)){var i=[];return o.slice().forEach((function(e){void 0!==e&&i.push(n(r,e,i.length))})),i.join("&")}return a(r,t)+"="+a(o,t)})).filter((function(e){return e.length>0})).join("&"):""}},695:function(e,t,n){"use strict";var r=n(1),o=n.n(r),a=n(0),i=n.n(a),s=n(332),c=n(8),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var u=c.b.BUTTON_LABEL_SUBMIT,p=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),l(t,[{key:"render",value:function(){var e=this.props,t=e.label,n=e.loader,r=e.cssFor,a=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["label","loader","cssFor"]);return o.a.createElement(s.b,Object.assign({},a,{type:"submit",className:"input-submit "+(r&&r.className),bsStyle:this.props.bsStyle,onClick:this.handleOnClick.bind(this)}),t,n&&o.a.createElement("div",{className:"absolute-center icon-refresh-container"},o.a.createElement("span",{className:"icon-refresh icon-medium spin"})))}},{key:"handleOnClick",value:function(e){e.preventDefault(),this.props.onClick&&this.props.onClick.constructor===Function&&this.props.onClick()}}]),t}(r.Component);p.propTypes={label:i.a.string,loader:i.a.bool},p.defaultProps={bsStyle:"primary",label:u},t.a=p},698:function(e,t,n){"use strict";t.a={weekday:"short",year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",timeZoneName:"short"}},705:function(e,t,n){"use strict";var r=n(1),o=n.n(r),a=n(0),i=n.n(a),s=n(332),c=n(685),l=n(686),u=n(687),p=n(25),f=n(684),d=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var h=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),d(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.cssFor,r=t.value,a=r?r.constructor===Object?r.label:r:this.props.title,i=Object(p.a)(p.c)?"direction-rtl":"";return o.a.createElement(c.a,{controlId:this.props.name,validationState:this.props.alert,className:n.group+" "+i},o.a.createElement(u.a,{label:this.props.label,className:n.label}),o.a.createElement(s.c,null,o.a.createElement(s.g,{noCaret:this.props.noCaret,bsSize:this.props.bsSize,id:this.props.name,title:a,onToggle:this.props.onToggle,disabled:this.props.disabled,className:n.dropdown+" "+this.props.alert+" text-start"},this.props.options.map((function(t,a){var i=t.constructor===Object?t.value===r:t===r,c=e.props.onRenderOption?e.props.onRenderOption(t):t;return o.a.createElement(s.l,{className:n.option,key:a,active:i,eventKey:t,onSelect:e.handleOnSelect.bind(e)},c)}))),!!this.props.options.length&&o.a.createElement("span",{className:"auto-suggestion caret"})),o.a.createElement(l.a,{alert:this.props.alert,className:n.description,description:this.props.description,list:this.props.list}))}},{key:"handleOnSelect",value:function(e,t){t.preventDefault();var n=this.props.onSelect;try{n&&n.constructor===Function&&this.props.onSelect(e)}catch(e){throw e}}}]),t}(r.Component);h.propTypes={cssFor:i.a.shape(f.a),noCaret:i.a.bool},h.defaultProps={noCaret:!0,cssFor:{label:"",group:"",description:"",dropdown:"",option:""}},t.a=h},706:function(e,t,n){"use strict";e.exports=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}},707:function(e,t,n){"use strict";var r=n(1),o=n.n(r),a=n(332),i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var s=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"render",value:function(){var e=this;return o.a.createElement(a.m,{className:"one-identity",show:!0,bsSize:"small"},o.a.createElement(a.m.Header,{className:"modal__close"}),o.a.createElement(a.m.Body,null,o.a.createElement(a.q,{className:"dbl-padding-bottom"},o.a.createElement(a.d,{xs:12,className:"dbl-margin-bottom"},o.a.createElement("a",{className:"logo-text"},o.a.createElement("span",{className:"icon-cisco logo-font-40 font-size-4rem"}))),o.a.createElement(a.d,{xs:12,className:"base-padding-top text-large text-center"},o.a.createElement("p",null,this.props.heading))),o.a.createElement(a.q,null,o.a.createElement(a.d,{xs:12,className:"text-center"},o.a.createElement(a.b,{onClick:function(){e.props.logout()},className:"btn--primary"},this.props.buttonLabel)))))}}]),t}(r.Component);t.a=s},777:function(e,t){},969:function(e,t,n){"use strict";n.r(t);var r=n(20),o=n.n(r),a=n(1),i=n.n(a),s=n(332),c=n(0),l=n.n(c),u=n(84),p=new(n(137).a);var f=function(e,t){var n=Object.assign({},Object(u.a)(e,t));u.c&&p.sendToAppDForRedirection(n),setTimeout((function(){window.location.href=t}),1e3)},d=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var h=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),d(t,[{key:"render",value:function(){return i.a.createElement("a",{target:this.props.target,onClick:this.redirecto.bind(this)},this.props.label)}},{key:"redirecto",value:function(){f(this.props.label,this.props.url)}}]),t}(a.Component);h.propTypes={url:l.a.string,label:l.a.string,target:l.a.string},h.defaultProps={label:"",url:"",target:""};var g=h,m=n(202),b=n(8),v=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var y=b.k.LINK_SIGN_IN,k={url:""},w=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state=Object.assign({},k),n}var n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),v(t,[{key:"componentDidMount",value:function(){this.setUrl()}},{key:"setUrl",value:(n=o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.navigation.getSigninUrl();case 2:t=e.sent,this.setState({url:t});case 4:case"end":return e.stop()}}),e,this)})),r=function(){var e=n.apply(this,arguments);return new Promise((function(t,n){return function r(o,a){try{var i=e[o](a),s=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(s).then((function(e){r("next",e)}),(function(e){r("throw",e)}));t(s)}("next")}))},function(){return r.apply(this,arguments)})},{key:"render",value:function(){return i.a.createElement(g,{ref:"linkToSignin",url:this.state.url,label:this.props.label})}}]),t}(a.Component);w.propTypes={label:l.a.string},w.defaultProps={label:y};Object(m.a)("navigation").map(w);var O=n(692),S=n(695),_=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var E=b.u.SESSION_TIMEOUT_TITLE,j=b.u.SESSION_TIMEOUT_DESCRIPTION,T=b.u.SESSION_TIMEOUT_LOG_OUT,C=b.u.SESSION_TIMEOUT_RESUME,I={userResponseTimer:null},x=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state=Object.assign({},I,{seconds:60}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),_(t,[{key:"componentDidUpdate",value:function(e){var t=this.props.onLogout,n=this.state.userResponseTimer;this.props.show!==e.show&&this.props.show&&(n=setTimeout((function(){clearTimeout(n),t()}),6e4),this.setState({userResponseTimer:n}))}},{key:"handleResume",value:function(){var e=this.state.userResponseTimer;clearTimeout(e),e=null,this.setState({userResponseTimer:e}),this.props.onResume()}},{key:"autoLogout",value:function(){var e=this;this.logoutInterval=setInterval((function(){var t=e.state.seconds;t>0&&e.setState((function(e){return{seconds:e.seconds-1}})),1===t&&(localStorage.setItem("isLoggedIn","false"),clearInterval(e.logoutInterval),e.props.logout())}),1e3)}},{key:"componentDidMount",value:function(){this.props.show&&this.autoLogout()}},{key:"componentWillUnmount",value:function(){clearInterval(this.logoutInterval)}},{key:"render",value:function(){var e=this.props.labelFor,t=this.state.seconds;return i.a.createElement(s.m,{className:"one-identity",show:this.props.show},i.a.createElement(s.m.Header,null,i.a.createElement(s.m.Title,null,this.props.title," ",t<10?"0"+t+" sec.":t+" sec.")),i.a.createElement(s.m.Body,null,this.props.description),i.a.createElement(s.m.Footer,null,i.a.createElement(s.q,null,i.a.createElement(s.d,{xs:6,className:"text-right"},i.a.createElement(O.a,{label:e.logout,onClick:this.props.logout})),i.a.createElement(s.d,{xs:6},i.a.createElement(S.a,{label:e.resume,onClick:this.handleResume.bind(this)})))))}}]),t}(a.Component);x.propTypes={show:l.a.bool,title:l.a.string.isRequired,description:l.a.string.isRequired,labelFor:l.a.object,onLogout:l.a.func,onResume:l.a.func},x.defaultProps={show:!1,title:E+",",description:j,labelFor:{logout:T,resume:C}};var N=x,P=n(201),L=(n(777),n(285)),A=n(148),D=n(146),U=n(705),R=n(95),F=n(147),B=n(282),M=n(25),z=n(30),H=n(10),W=n(149),K=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function q(e){return function(){var t=e.apply(this,arguments);return new Promise((function(e,n){return function r(o,a){try{var i=t[o](a),s=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(s).then((function(e){r("next",e)}),(function(e){r("throw",e)}));e(s)}("next")}))}}var V={languageList:[],displayedLanguage:"",firstName:"",lastName:""},G=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state=Object.assign({},V),n}var n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),K(t,[{key:"componentDidMount",value:function(){this.profilePersonal=this.isLoggedIn()?this.getProfilePersonalService():null,this.setDisplayedLanguage()}},{key:"componentDidUpdate",value:function(e,t){var n=this.props.validation.dictionary.findDefinition("preferredLanguage").cannonicalValues;if(!this.state.languageList.length){var r=n||Object.keys(B.a);this.setState({languageList:r})}}},{key:"isLoggedIn",value:function(){var e=this.props.authenticate,t=(void 0===e?{}:e).authenticated;return void 0!==t&&t}},{key:"getProfilePersonalService",value:function(){return Object(D.a)("profilePersonal").profilePersonal}},{key:"setDisplayedLanguage",value:(r=q(o.a.mark((function e(){var t,n,r,a,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.profilePersonal.getUser();case 3:t=e.sent,n=t.data.profile.locale,r=t.data.profile,a=r.firstName,i=r.lastName,n===M.c?this.setState({firstName:a,lastName:i,displayedLanguage:n}):n&&Object(P.c)(n),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),this.setState({displayedLanguage:M.c});case 12:case"end":return e.stop()}}),e,this,[[0,9]])}))),function(){return r.apply(this,arguments)})},{key:"patchPreferredLanguage",value:(n=q(o.a.mark((function e(t){var n,r,a,i,s=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.state,r=n.firstName,a=n.lastName,i=s?{language:t,nameLocal:{firstName:r,lastName:a}}:{language:t},e.prev=2,e.next=5,this.profilePersonal.patchUser(i);case 5:Object(P.c)(t),Object(R.e)(),e.next=16;break;case 9:if(e.prev=9,e.t0=e.catch(2),"30040"!==F.a.getErrorCode(e.t0)){e.next=15;break}return this.patchPreferredLanguage(t,!0),e.abrupt("return");case 15:this.props.onError&&this.props.onError(e.t0);case 16:case"end":return e.stop()}}),e,this,[[2,9]])}))),function(e){return n.apply(this,arguments)})},{key:"handleSelect",value:function(e){var t=this,n=this.props,r=n.reloadUrl,o=n.disabled;this.props.updateLocale(e),setTimeout((function(){if(!o)if(t.profilePersonal)t.patchPreferredLanguage(e);else{Object(P.c)(e);var n=Object(z.h)();delete n.ui_locale;var a=r||""+Object(H.j)()+Object(z.e)(n);Object(R.c)({url:a})}}),1e3)}},{key:"getTitleObject",value:function(e){var t=i.a.createElement("img",{src:"/ux-app/static/language-icon.png",alt:"Language"}),n=i.a.createElement("div",{className:"language-dropdown-title"},i.a.createElement("span",null,e.split("_")[1]),i.a.createElement("br",null),i.a.createElement("span",null,e.split("_")[0]));return{value:e,label:i.a.createElement("div",null,t,n)}}},{key:"render",value:function(){var e=this,t=this.state,n=t.languageList,r=t.displayedLanguage;if(!n.length)return null;var o=(this.props.cssFor||{}).menu,a=void 0===o?"":o,s=this.props,c=s.disabled,l=s.disableDD;return c?null:i.a.createElement("div",{className:"language-dropdown-menu "+a+" "+(l?"disabled":"")},i.a.createElement(U.a,Object.assign({options:n,name:"languageDropdown",value:this.getTitleObject(r),onRenderOption:function(e){return B.a[e]},onSelect:function(t){return e.handleSelect(t)}},this.props)))}}]),t}(a.Component),J=Object(m.a)("validation","authenticate").map(G),$=n(9),X=n(27),Y=n(11),Z=n.n(Y),Q=n(693),ee=n.n(Q),te=n(16),ne=n(15),re=n(315),oe=n(707),ae=(n(698),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}());function ie(e){return function(){var t=e.apply(this,arguments);return new Promise((function(e,n){return function r(o,a){try{var i=t[o](a),s=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(s).then((function(e){r("next",e)}),(function(e){r("throw",e)}));e(s)}("next")}))}}var se=b.k.LINK_SIGN_IN,ce=b.k.LINK_HI,le=b.k.LINK_LOG_OUT,ue=(b.c.CONTACT_SUPPORT_NAME,{userDisplay:"",timeout:!1,systemMsg:{},showLogoutButton:!1,browser:"",idToken:"",userId:"",browserVersion:""}),pe=b.v.ACCOUNT_FEDERATED_BUTTON,fe=b.t.SERVER_DESC_EXPIRED_VERIFY_CODE,de=["enrollment-ui","code-sent","update-password","create-limited-account","account-link","account-federated","account-inactive","social-login-error-page"],he=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));e.logoutIfWindowInactive=function(){e.sessionCollector(),e.oktaTokenService=new re.a;var t=void 0;if(localStorage.getItem("expiryTime")){var n=parseInt(localStorage.getItem("expiryTime"));(new Date).getTime()>=new Date(n).getTime()&&e.logout()}localStorage["okta-token-storage"]&&(JSON.parse(localStorage["okta-token-storage"]).accessToken&&JSON.parse(localStorage["okta-token-storage"]).accessToken.accessToken&&(t=new Date(e.oktaTokenService.getOktaTokenExpiresMilliseconds()),localStorage.setItem("expiryTime",JSON.stringify(e.oktaTokenService.getOktaTokenExpiresMilliseconds())),((new Date).getTime()>=t.getTime()||"false"===localStorage.getItem("isLoggedIn"))&&(e.logout(),setTimeout((function(){}),2e3))))},e.state=Object.assign({},ue,{userEmail:null}),e.emitter=A.a,e.login=e.login.bind(e),e.logout=e.logout.bind(e);var n=Object(D.a)("profileSecurity").profileSecurity;return e.profileSecurity=n,e}var n,r,a,c,l,u,p,f,d,h,g,m;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),ae(t,[{key:"onToggleSidebar",value:function(){this.props.onToggleSidebar()}},{key:"componentWillMount",value:function(){"true"===localStorage.fpLogedOut&&this.logout()}},{key:"getSystemMsg",value:(m=ie(o.a.mark((function e(){var t,n,r,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(D.a)("dictionary"),n=t.dictionary,e.prev=1,e.next=4,n.getSystemMsg({feature:"profile",locale:M.c});case 4:if((r=e.sent).data.response){e.next=7;break}return e.abrupt("return");case 7:a=r.data.response,this.setState({systemMsg:a}),e.next=13;break;case 11:e.prev=11,e.t0=e.catch(1);case 13:case"end":return e.stop()}}),e,this,[[1,11]])}))),function(){return m.apply(this,arguments)})},{key:"componentDidUpdate",value:function(e,t){this.props.forceLogout!==e.forceLogout&&this.logout(),this.props.hideLangDdForAL4!==e.hideLangDdForAL4&&this.setState({hideLangDd:!0})}},{key:"hideSdkError",value:function(){document.getElementsByClassName("container container-body")[0].innerHTML.search("AuthSdkError")&&(document.getElementsByClassName("container container-body")[0].innerHTML="")}},{key:"componentDidMount",value:function(){var e=this;window.addEventListener("message",(function(e){e.origin===H.e&&e.source.postMessage("fetched new access token",e.origin)})),this.observeChange();var t=this.props,n=(t.authenticate,t.authState,"undefined"!=typeof InstallTrigger);if(navigator.vendor&&navigator.vendor.indexOf("Apple")>-1&&navigator.userAgent&&-1==navigator.userAgent.indexOf("CriOS")&&-1==navigator.userAgent.indexOf("FxiOS")?(this.setState({browser:"Safari"}),setTimeout((function(){if("/login/callback"===window.location.pathname){var t=localStorage.getItem("okta-token-storage"),n=void 0;null!=t&&null!=JSON.parse(t)&&(n=0===Object.keys(t).length&&t.constructor===Object),e.hideSdkError(),!t||null==t||n?e.login():"test"===t&&(e.hideSdkError(),e.setState({showLogoutButton:!0}))}}),3e3)):n?(this.setState({browser:"Firefox"}),setTimeout((function(){"/ui/v1.0/profile-ui"!==window.location.pathname&&"/login/callback"!==window.location.pathname||localStorage["okta-token-storage"]&&null!=localStorage["okta-token-storage"]&&"test"!==localStorage["okta-token-storage"]||(e.hideSdkError(),e.setState({showLogoutButton:!0}))}),3e3)):(window.navigator.userAgentData&&window.navigator.userAgentData.brands?window.navigator.userAgentData.brands.length>2&&window.navigator.userAgentData.brands[2].version?this.setState({browser:"Chrome",browserVersion:window.navigator.userAgentData.brands[2].version}):window.navigator.userAgentData.brands.length>1&&window.navigator.userAgentData.brands[1].version&&this.setState({browser:"Chromium",browserVersion:window.navigator.userAgentData.brands[1].version}):this.setState({browser:"Chrome"}),setTimeout((function(){e.setState({browser:"Chrome"}),"/ui/v1.0/profile-ui"!==window.location.pathname&&"/login/callback"!==window.location.pathname||(localStorage["okta-token-storage"]&&null!=localStorage["okta-token-storage"]?"test"===localStorage["okta-token-storage"]&&(e.hideSdkError(),e.setState({showLogoutButton:!0})):e.login())}),2e3)),localStorage.resumeClicked||"true"===localStorage.resumeClicked||localStorage.recoveryPhoneIntitiated||"true"===localStorage.recoveryPhoneIntitiated?this.defaultSendTokenAfterAuthorize():(new te.a).getAccessToken()&&(this.fetchMe(),this.getExchangeToken((new te.a).getAccessToken())),this.props.authState.isAuthenticated){var r=Object(D.a)("profilePersonal").profilePersonal;this.profilePersonal=r,(new te.a).getAccessToken()&&this.fetchMe()}void 0!==document.hidden?("hidden","visibilitychange"):void 0!==document.msHidden?("msHidden","msvisibilitychange"):void 0!==document.webkitHidden&&("webkitHidden","webkitvisibilitychange"),document.addEventListener("visibilitychange",this.logoutIfWindowInactive,!1),this.checkForPasswordChange()}},{key:"componentWillUnmount",value:function(){this.emitter.removeListener("sessionTimeout",(function(){})).removeListener("userInfoChange",(function(){}))}},{key:"sessionChecker",value:(g=ie(o.a.mark((function e(t,n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.profileSecurity.sessionValidator(t,n);case 2:e.sent.data.isSessionActive||"https://stg-id.cisco.com"===!H.e||H.e;case 5:case"end":return e.stop()}}),e,this)}))),function(e,t){return g.apply(this,arguments)})},{key:"sessionCollector",value:(h=ie(o.a.mark((function e(){var t,n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.profileSecurity.sidCookieCollector();case 3:if(t=e.sent,n=this.state.userEmail,!t.data.login){e.next=8;break}if(n===t.data.login){e.next=8;break}return e.abrupt("return");case 8:t.data.id&&(r={sessionId:t.data.id},(new te.a).getAccessToken()&&this.sessionChecker((new te.a).getAccessToken(),r)),e.next=13;break;case 11:e.prev=11,e.t0=e.catch(0);case 13:case"end":return e.stop()}}),e,this,[[0,11]])}))),function(){return h.apply(this,arguments)})},{key:"observeChange",value:function(){var e=this;this.emitter.addListener("sessionTimeout",(function(t){e.setState({timeout:t})})).addListener("userInfoChange",(function(t){t&&(t.preferredName?e.setState({userDisplay:t.preferredName}):t.coiFirstName&&t.coiLastName?e.setState({userDisplay:t.coiFirstName+" "+t.coiLastName}):t.firstName&&t.lastName?e.setState({userDisplay:t.firstName+" "+t.lastName}):e.setState({userDisplay:""}))}))}},{key:"sendTokenAfterAuthorize",value:(d=ie(o.a.mark((function e(){var t,n,r,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=Object(X.t)(),n={headers:{Accept:"*/*","Content-Type":"application/x-www-form-urlencoded"}},r={client_id:Object(ne.c)(H.e).clientId,redirect_uri:Object(ne.c)(H.e).redirectUri,grant_type:"authorization_code",code:localStorage.oktaCode,code_verifier:localStorage.codeVerifier},e.next=6,Z.a.post(t,ee.a.stringify(r),n);case 6:a=e.sent,localStorage.setItem("aToken",a.data.access_token),window.location.href=H.e+"/ui/v1.0/profile-ui",e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),this.logout();case 14:case"end":return e.stop()}}),e,this,[[0,11]])}))),function(){return d.apply(this,arguments)})},{key:"defaultSendTokenAfterAuthorize",value:(f=ie(o.a.mark((function e(){var t,n,r,a,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=1,t=Object(X.b)(),n={headers:{Accept:"*/*","Content-Type":"application/x-www-form-urlencoded"}},r={client_id:Object(ne.c)(H.e).clientId,redirect_uri:Object(ne.c)(H.e).redirectUri,grant_type:"authorization_code",code:localStorage.defaultCode,code_verifier:localStorage.codeVerifier},e.next=7,Z.a.post(t,ee.a.stringify(r),n);case 7:a=e.sent,(i={accessToken:{accessToken:""},idToken:{idToken:""}}).accessToken.accessToken=a.data.access_token,i.idToken.idToken=a.data.id_token,localStorage.setItem("okta-token-storage",JSON.stringify(i)),localStorage.removeItem("resumeClicked"),localStorage.getItem("popupOpened")&&"true"===localStorage.getItem("popupOpened")&&(this.emitter.emit("popupClosed"),localStorage.setItem("popupOpened","false"),window.close()),window.location.href=H.e+"/ui/v1.0/profile-ui",e.next=19;break;case 17:e.prev=17,e.t0=e.catch(1);case 19:case"end":return e.stop()}}),e,this,[[1,17]])}))),function(){return f.apply(this,arguments)})},{key:"accessTokenInvalidator",value:(p=ie(o.a.mark((function e(){var t,n,r,a,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(ne.c)(H.e).clientId,n=btoa(t),r={headers:{Accept:"application/json","Content-Type":"application/x-www-form-urlencoded",Authorization:"Basic "+n}},a={token:(new te.a).getAccessToken(),token_type_hint:"access_token"},i=Object(X.k)(),e.prev=5,e.next=8,Z.a.post(i,ee.a.stringify(a),r);case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(5);case 13:case"end":return e.stop()}}),e,this,[[5,10]])}))),function(){return p.apply(this,arguments)})},{key:"exchangeTokenInvalidator",value:(u=ie(o.a.mark((function e(){var t,n,r,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(ne.c)(H.e).clientId,btoa(t),n={headers:{Accept:"application/json","Content-Type":"application/json"}},r={accessToken:(new te.a).getExchangeToken()},a=Object(X.x)(),e.next=7,Z.a.post(a,r,n);case 7:case"end":return e.stop()}}),e,this)}))),function(){return u.apply(this,arguments)})},{key:"checkForPasswordChange",value:function(){var e=this;this.ifPasswordChanged=setInterval((function(){e.lookForPasswordChange()}),1e4)}},{key:"lookForPasswordChange",value:(l=ie(o.a.mark((function e(){var t,n,r,a,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=Object(X.y)(),n={headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+(new te.a).getAccessToken()}},e.next=5,Z.a.get(t,n);case 5:(r=e.sent).data.profile&&(a=r.data.lastLogin,i=r.data.passwordChanged,new Date(a).getTime()<new Date(i).getTime()&&this.logout()),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),401===e.t0.response.status&&this.logout();case 12:case"end":return e.stop()}}),e,this,[[0,9]])}))),function(){return l.apply(this,arguments)})},{key:"getExchangeToken",value:(c=ie(o.a.mark((function e(t){var n,r,a,i,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=Object(X.w)(),r={headers:{Accept:"application/json","Content-Type":"application/json"}},a={token:t},e.next=6,Z.a.post(n,a,r);case 6:i=e.sent,(s=i.data.accessToken)&&localStorage.setItem("exchangeToken",s),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0);case 14:case"end":return e.stop()}}),e,this,[[0,11]])}))),function(e){return c.apply(this,arguments)})},{key:"fetchMe",value:(a=ie(o.a.mark((function e(){var t,n,r,a,i,s,c,l,u,p,f;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=Object(X.y)(),n={headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+(new te.a).getAccessToken()}},e.next=5,Z.a.get(t,n);case 5:if(r=e.sent,a=r.data.profile.email,null!=(i=r.data.profile.firstTimeLoggedIn)&&!0!==i){e.next=27;break}return s=1e3*new Date(r.data.activated).getTime(),c=1e3*(new Date).getTime(),l=new Date(s).getTime()+6048e5,e.prev=13,u={profile:{firstTimeLoggedIn:!1}},e.next=17,this.profilePersonal.patchUser(u);case 17:if(!(!1===e.sent.data.profile.firstTimeLoggedIn&&l>c)){e.next=22;break}return this.logout(),e.abrupt("return");case 22:e.next=27;break;case 24:e.prev=24,e.t0=e.catch(13);case 27:p=r.data.id,this.props.fetchUserId(a,this.state.browser,p),null==r.data.profile.locale?Object(P.c)("en_US"):null==Object(P.b)("pm_locale")&&null!=r.data.profile.locale&&(Object(P.d)(r.data.profile.locale),Object(P.c)(r.data.profile.locale),"en_US"!==r.data.profile.locale&&window.location.reload()),r.data.profile&&(localStorage.setItem("accessLevelUser",r.data.profile.accessLevel),"true"===r.data.profile.terms_of_service&&"true"===r.data.profile.collect_PI&&"true"===r.data.profile.transfer_PICisco&&"true"===r.data.profile.transfer_PIChina?localStorage.setItem("chinaConsent","true"):localStorage.setItem("chinaConsent","false"),this.welcomeUser(r.data.profile),f=!1,"{}"===localStorage.getItem("okta-token-storage")&&(f=!0),f?(this.defaultAuthorizeCall(),localStorage.setItem("resumeClicked","true")):this.setState({idToken:(new te.a).getIdToken()})),e.next=38;break;case 33:e.prev=33,e.t1=e.catch(0),navigator.vendor&&navigator.vendor.indexOf("Apple")>-1&&navigator.userAgent&&-1==navigator.userAgent.indexOf("CriOS")&&navigator.userAgent.indexOf("FxiOS"),this.hideSdkError();case 38:case"end":return e.stop()}}),e,this,[[0,33],[13,24]])}))),function(){return a.apply(this,arguments)})},{key:"getBrowserInfo",value:function(){navigator.userAgent,navigator.userAgent.split(" ")}},{key:"welcomeUser",value:function(e){var t=e,n=t.coiFirstName,r=t.coiLastName,o=t.email,a=t.preferredName,i=t.firstName,s=t.lastName;a?this.setState({userDisplay:a}):n&&r?this.setState({userDisplay:n+" "+r}):i&&s?this.setState({userDisplay:i+" "+s}):this.setState({userDisplay:""}),this.setState({userEmail:o})}},{key:"handleLogout",value:function(e){localStorage.setItem("isLoggedIn","false"),localStorage.removeItem("tenantUnaware");var t=""+H.e+e;this.props.authenticate.logout(t)}},{key:"handleError",value:function(e){this.props.onError&&this.props.onError(e)}},{key:"login",value:(r=ie(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.props.authService.login("/ui/v1.0/profile-ui");case 1:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"logout",value:function(){var e=this;this.accessTokenInvalidator(),setTimeout((function(){e.exchangeTokenInvalidator()}),500),setTimeout((function(){var t=e.props.authService,n=e.state.idToken;if(!n)return localStorage.clear(),localStorage.removeItem("okta-token-storage"),localStorage.setItem("isLoggedIn","false"),void t.logout(H.e);try{var r=H.e+"/oauth2/default/v1/logout?id_token_hint="+n+"&post_logout_redirect_uri="+H.e;Z.a.get(r)}catch(e){return localStorage.clear(),localStorage.removeItem("okta-token-storage"),localStorage.setItem("isLoggedIn","false"),t.logout(H.e),void(location.href=H.e)}localStorage.clear(),localStorage.removeItem("okta-token-storage"),localStorage.setItem("isLoggedIn","false"),t.logout(H.e)}),2e3)}},{key:"defaultAuthorizeCall",value:function(){var e=void 0,t=void 0,n=void 0,r=Object(ne.b)();for(var o in r)r[o].redirectURI===H.e&&(e=r[o].redirectURI,t=r[o].clientId,n=r[o].origin);var a=encodeURI(e+"/login/callback"),i=n+"/oauth2/default/v1/authorize",s=localStorage.codeChallenge,c=i+"?client_id="+t+"&response_type=code&scope="+encodeURI("openid email profile")+"&redirect_uri="+a+"&nonce=UBGW&state=KdjFk4r2m80E3N&code_challenge="+s+"&code_challenge_method=S256",l="https://ciscob2b-sandbox.oktapreview.com/oauth2/default/v1/authorize?client_id=0oa54hm3cmzLKxi5V1d6&response_type=code&scope=openid%20email%20profile&redirect_uri=http://localhost:3000/login/callback&nonce=UBGW&state=KdjFk4r2m80E3N&code_challenge="+localStorage.codeChallenge+"&code_challenge_method=S256",u="http://localhost:3000"===H.e?l:c;window.location.href=u}},{key:"recoveryPhoneAuthorizeCall",value:function(){var e=void 0,t=void 0,n=void 0,r=Object(ne.b)();for(var o in r)r[o].redirectURI===H.e&&(e=r[o].redirectURI,t=r[o].clientId,n=r[o].origin);var a=encodeURI(e+"/login/callback"),i=n+"/oauth2/default/v1/authorize",s=localStorage.codeChallenge,c=i+"?client_id="+t+"&response_type=code&scope="+encodeURI("openid email profile okta.myAccount.phone.read okta.myAccount.phone.manage")+"&redirect_uri="+a+"&nonce=UBGW&state=KdjFk4r2m80E3N&code_challenge="+s+"&code_challenge_method=S256",l="https://ciscob2b-sandbox.oktapreview.com/oauth2/default/v1/authorize?client_id=0oa54hm3cmzLKxi5V1d6&response_type=code&scope=openid%20email%20profile&redirect_uri=http://localhost:3000/login/callback&nonce=UBGW&state=KdjFk4r2m80E3N&code_challenge="+localStorage.codeChallenge+"&code_challenge_method=S256",u="http://localhost:3000"===H.e?l:c;window.location.href=u}},{key:"onUpdateLocale",value:(n=ie(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={profile:{locale:t}},e.next=3,this.profilePersonal.patchUser(n);case 3:e.sent,localStorage.removeItem("localeChangeAllowed");case 5:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"render",value:function(){var e=this,t=H.f.split("/").pop(),n=this.props,r=(n.appName,n.tagLine,n.hasSidebar),o=n.tokenService,a=n.newHeader,c=(o.tokenConfig.redirectUri,this.props.authenticate,this.state),l=c.userEmail,u=c.systemMsg,p=c.hideLangDd,f=l&&l.replace(/.*@/,"")||null;var d=u.type===$.a||u.type===$.d,h=de.includes(t),g=this.props.authState;return h?null:i.a.createElement(s.q,{className:"header header--tall"},this.props.showTimeoutBox?i.a.createElement(N,{show:this.props.showTimeoutBox,onLogout:function(){},onResume:function(){e.setState({timeout:!1}),e.defaultAuthorizeCall(),localStorage.setItem("resumeClicked","true")},logout:function(){return e.logout()}}):null,i.a.createElement(s.d,{xs:12,sm:10,smOffset:1,md:10,mdOffset:1,lg:10,lgOffset:1},i.a.createElement("header",null,i.a.createElement("div",{className:"header-bar container-header"},r&&i.a.createElement(s.b,{className:"btn--small btn--icon toggle-menu",onClick:function(){return e.onToggleSidebar()}},i.a.createElement("span",{className:"icon-list-menu"})),i.a.createElement("a",{href:this.props.links.CiscoHomepageIcon,className:"header-bar__logo "+(a&&"hide")},i.a.createElement("span",{className:"icon-cisco"})),i.a.createElement("div",{className:"header-toolbar "+(a&&"hide")},!p&&i.a.createElement(J,{disabled:null===f,onError:this.handleError.bind(this),disableDD:d,updateLocale:function(t){return e.onUpdateLocale(t)}}),g.isAuthenticated&&i.a.createElement(s.c,null,i.a.createElement("span",{className:"icon-medium icon-contact icon-header-person"}),i.a.createElement(s.f,{id:"user-dropdown",className:"avatar",pullRight:!0},i.a.createElement(s.f.Toggle,{noCaret:!0},ce," ",this.state.userDisplay),i.a.createElement(s.f.Menu,null,i.a.createElement(s.l,{id:"user-menuitem",eventKey:"1",onClick:this.logout},le)))),!g.isAuthenticated&&i.a.createElement("a",{onClick:this.login},se),this.state.showLogoutButton&&i.a.createElement(oe.a,{heading:fe,buttonLabel:pe,logout:function(){e.logout()}}))))))}}],[{key:"componentName",value:function(){return"Header"}}]),t}(L.b);he.defaultProps={appName:"OneIdentity",tagLine:"Simple, Secure and Seamless Identity Management for Cisco",authenticate:{}};t.default=Object(W.withOktaAuth)(he)}}]);